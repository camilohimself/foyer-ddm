---
import Layout from '~/layouts/PageLayout.astro';
import Hero from '~/components/widgets/Hero.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';

const metadata = {
  title: 'Programme 2026',
  description: 'Calendrier complet des retraites 2026 au Foyer de Charité Dents-du-Midi. 17 événements de février à septembre.',
};

const events = [
  { date: '1-7 février', title: 'Dieu est-il si invisible que ça ?', type: '6 jours', preacher: 'Guy Luisier, Pascal Dorsaz', variant: 'Raquettes', badge: 'bg-primary-600' },
  { date: '12 février', title: 'Prier avec l\'icône de la Trinité', type: 'Journée', preacher: 'Lionel et Eliane Bouquin', badge: 'bg-accent-400' },
  { date: '20-22 février', title: 'Ayons des faces de ressuscités', type: '3 jours', preacher: 'François-Xavier Amherdt', variant: 'Carême', badge: 'bg-primary-500' },
  { date: '10 mars', title: 'Silence, libération, prière', type: 'Journée', preacher: 'Jeff Roux', badge: 'bg-accent-400' },
  { date: '13-15 mars', title: 'En famille, vivre «l\'hymne à l\'amour» (1Co 13)', type: 'Couples', preacher: 'Elodie et Philibert Goulet, Guy Luisier', badge: 'bg-rose-500' },
  { date: '21-22 mars', title: 'Préparation au mariage', type: 'Mariage', preacher: 'Diocèse de Sion', badge: 'bg-purple-500' },
  { date: '2-5 avril', title: 'Guetteurs de l\'Aube', type: '3 jours', preacher: 'Corinne Gossauer, Guy Luisier', variant: 'Trois Jours Saints', badge: 'bg-primary-500' },
  { date: '12-18 avril', title: 'Vers quel Emmaüs allons-nous ?', type: '6 jours', preacher: 'Guy Luisier', variant: 'Pascale «oasis»', badge: 'bg-primary-600' },
  { date: '23 avril', title: 'Avec Maurice Zundel : ouvrir l\'oreille de notre coeur', type: 'Journée', preacher: 'Isabelle Perrenoud, Marc Donzé', badge: 'bg-accent-400' },
  { date: '24-26 avril', title: 'Unis par l\'amour, fortifiés par la foi', type: 'Couples', preacher: 'Bertrand et Françoise Georges', badge: 'bg-rose-500' },
  { date: '1-3 mai', title: 'Elisabeth et Marie, une rencontre et nos rencontres', type: '3 jours', preacher: 'Corinne Gossauer', badge: 'bg-primary-500' },
  { date: '12 mai', title: 'Prier avec les fables de La Fontaine', type: 'Journée', preacher: 'Guy Luisier', badge: 'bg-accent-400' },
  { date: '29 mai - 1 juin', title: 'Week-end familles — Ascension', type: 'Familles', preacher: 'Christian et Marie-France Thurre', badge: 'bg-emerald-500' },
  { date: '5-11 juillet', title: 'Mon coeur a frémi de paroles bonnes', type: '6 jours', preacher: 'Thierry Collaud', badge: 'bg-primary-600' },
  { date: '12-18 juillet', title: 'Ce Samaritain est de ma famille !', type: '6 jours', preacher: 'Guy Luisier', badge: 'bg-primary-600' },
  { date: '9-15 août', title: 'Cheminer avec Matthieu et quelques témoins', type: '6 jours', preacher: 'Barbara Francey, Guy Luisier', variant: 'Randonnées', badge: 'bg-primary-600' },
  { date: '16-22 août', title: 'Les mots qui blessent, la Parole qui guérit', type: '6 jours', preacher: 'Joël Pralong', badge: 'bg-primary-600' },
  { date: '6 septembre', title: 'Dieu est là ! Oui mais où ?', type: 'Journée du Foyer', preacher: 'Guy Luisier et équipe', badge: 'bg-accent-400' },
  { date: '26-27 septembre', title: 'Préparation au mariage', type: 'Mariage', preacher: 'Diocèse de Sion', badge: 'bg-purple-500' },
];
---

<Layout metadata={metadata}>
  <Hero>
    <Fragment slot="title">
      Programme <span class="text-accent-400">2026</span>
    </Fragment>
    <Fragment slot="subtitle">
      17 retraites de février à septembre. Retraites de 6 jours, week-ends, journées, couples, familles et préparation au mariage.
    </Fragment>
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-primary-600/5"></div>
    </Fragment>
  </Hero>

  <section class="py-12 md:py-20">
    <div class="max-w-5xl mx-auto px-4 sm:px-6">
      <!-- Légende badges -->
      <div class="flex flex-wrap gap-3 mb-8 justify-center">
        <span class="inline-flex items-center gap-1.5 text-sm"><span class="w-3 h-3 rounded-full bg-primary-600"></span> 6 jours</span>
        <span class="inline-flex items-center gap-1.5 text-sm"><span class="w-3 h-3 rounded-full bg-primary-500"></span> 3 jours</span>
        <span class="inline-flex items-center gap-1.5 text-sm"><span class="w-3 h-3 rounded-full bg-accent-400"></span> Journée</span>
        <span class="inline-flex items-center gap-1.5 text-sm"><span class="w-3 h-3 rounded-full bg-rose-500"></span> Couples</span>
        <span class="inline-flex items-center gap-1.5 text-sm"><span class="w-3 h-3 rounded-full bg-emerald-500"></span> Familles</span>
        <span class="inline-flex items-center gap-1.5 text-sm"><span class="w-3 h-3 rounded-full bg-purple-500"></span> Mariage</span>
      </div>

      <!-- Liste événements -->
      <div class="space-y-4">
        {events.map((event) => (
          <div class="flex flex-col sm:flex-row gap-4 p-5 rounded-lg border border-gray-200 hover:shadow-md transition-shadow bg-white">
            <div class="sm:w-40 shrink-0">
              <div class="text-sm font-semibold text-primary-600">{event.date}</div>
              <span class={`inline-block mt-1 text-xs font-medium text-white px-2.5 py-0.5 rounded-full ${event.badge}`}>
                {event.type}
              </span>
            </div>
            <div class="flex-1">
              <h3 class="text-lg font-semibold text-primary-600">«{event.title}»</h3>
              <p class="text-sm text-muted mt-1">
                {event.preacher}
                {event.variant && <span class="ml-2 text-accent-500 font-medium">· {event.variant}</span>}
              </p>
            </div>
            <div class="sm:self-center shrink-0">
              <a
                href="/contact/inscription"
                class="inline-flex items-center justify-center text-sm font-semibold bg-accent-400 text-white px-4 py-2 rounded-full hover:bg-accent-300 transition"
              >
                S'inscrire
              </a>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <CallToAction
    actions={[
      {
        variant: 'primary',
        text: "S'inscrire à une retraite",
        href: '/contact/inscription',
        icon: 'tabler:arrow-right',
      },
      {
        text: 'Nous contacter',
        href: '/contact',
      },
    ]}
  >
    <Fragment slot="title">
      Réservez votre <span class="text-accent-400">retraite</span>
    </Fragment>
    <Fragment slot="subtitle">
      Les places sont limitées. Inscrivez-vous dès maintenant pour réserver votre place.<br />
      Personne n'est refusé pour des raisons financières.
    </Fragment>
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-primary-600"></div>
    </Fragment>
  </CallToAction>
</Layout>
